<section class="my-4">
<h2 class="mb-4 text-center">
  <%= yield(:page_heading) %>
</h2>

<div class="py-3">
  <div class="container">
    <div class="row">
      <div class="p-4 col-lg-5 mx-auto">
        <%= form_for @product, url: yield(:url) do |f| %>

        <% if @product.errors.any? %>
        <div class="alert alert-danger" role="alert">
          <strong>入力内容にエラーがあります</strong>
          <ul>
            <% @product.errors.each do |attr, msg| %>
            <li>
              <%= msg %>
            </li>
            <% end %>
          </ul>
        </div>
        <% end %>

        <%= f.label :title, 'ポートフォリオ名' %>
        <%= f.text_field :title, class: 'form-control mb-3', placeholder: 'TWESUME CARD' %>
        <%= f.label :url, 'URL'%>
        <%= f.text_field :url, class: 'form-control mb-3', placeholder: 'https://twesumecard.com' %>
        <%= f.label :description, 'このポートフォリオの説明' %>
        <%= f.text_area :description, class: 'form-control mb-3', rows:'5', placeholder: '仕事を辞めたすぎてムシャクシャして開発したサービス'  %>
        <%= f.label :image, 'ポートフォリオの画像' %>
        <%= f.file_field :image, accept: 'image/jpeg,image/gif,image/png' %><br>

        <%= f.submit yield(:button_text) ,class:"btn btn-primary mt-3" %>

        <% end %>

      </div>
    </div>
  </div>
</div>
</section>

<script type="text/javascript">
  $('#product_image').bind('change', function () {
    var size_in_megabytes = this.files[0].size / 1024 / 1024;
    if (size_in_megabytes > 5) {
      alert('Maximum file size is 5MB. Please choose a smaller file.');
    }
  });
</script>